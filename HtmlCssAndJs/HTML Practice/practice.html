<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <input type='password' placeholder='Password' id='password' title="Password Should be Very Strong and more than 8 letters" minlength="8" maxlength="16">
  <button type='button' id="submit">Submit</button>

  <div class="message"> <b  id="message"></b>
  </div>

  <script>
    const password = document.getElementById("password");
    const message = document.getElementById("message");
   

    function countFlag(flag) {
      var count = 0;

      for (let j = 0; j < flag.length; j++) {
        if (flag[j] === true) {
          ++count;
          // console.log(count)
        }
      }
      return count;
    }

    function updateCss(count) {
      switch (count) {
        case 1: message.innerHTML = "Too weak"; message.style.color = "red";
          break;
        case 2: message.innerHTML = "Weak"; message.style.color = "orange";
          break;
        case 3: message.innerHTML = "Good"; message.style.color = "yellow";
          break;
        case 4: message.innerHTML = "Strong"; message.style.color = "lightgreen";
          break;
        case 5: message.innerHTML = "Very Strong"; message.style.color = "green";
        break;
       default: message.innerHTML = "Enter Valid Password"; message.style.color ="black"
      }
    }

    password.addEventListener("keydown",(e)=> {
      code = e.keyCode;
      // console.log(code)
      if(code===13){
        document.getElementById("submit").click();
      }
      let flag = [false, false, false, false, false]
      let str = password.value;
      
      for (let i = 0; i < str.length; i++) {

        if (str.charCodeAt(i) >= 65 && str.charCodeAt(i) <= 90) {
          flag[0] = true;
        }

        if (str.charCodeAt(i) >= 97 && str.charCodeAt(i) <= 122) {
          flag[1] = true;
        }

        if ((str.charCodeAt(i) >= 33 && str.charCodeAt(i) <= 47) || str.charCodeAt(i) === 64) {
          flag[2] = true;
        }

        if (str.charCodeAt(i) >= 48 && str.charCodeAt(i) <= 57) {
          flag[3] = true;
        }
      }

      if (str.length >= 8) {
        flag[4]=true;
      }

      let c = countFlag(flag);
      updateCss(c);

      if(str.length===0){
        message.innerHTML ="";
      }
    })

  </script>

</body>

</html>